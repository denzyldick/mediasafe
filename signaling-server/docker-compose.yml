version: '3.8'

services:
  signaling-server:
    # Pulls the latest freshly-built image from your GitHub repository
    image: ghcr.io/denzyldick/mediasafe-signaling-server:latest

    # Alternatively, if you want to build it entirely locally from the source, 
    # uncomment the build section and comment the image line above:
    # build:
    #   context: .
    #   dockerfile: Dockerfile

    container_name: mediasafe-signaling-server

    # Ensures the container automatically restarts if it crashes or if the server reboots
    restart: always

    ports:
      - "9489:9489"

    environment:
      - PORT=9489
      - RUST_LOG=signaling_server=debug,axum=info
